@use 'sass:list';
@use 'sass:math';
@use 'sass:string';

@function generate($color, $offset, $distance, $layers: 4) {
  $shadow: ();

  @for $layer-index from $layers through 1 {
    $layer-distance: math.div($distance, $layer-index);
    $layer-offset: math.div($offset, $layer-index);
    $layer-css: string.unquote('#{$color} 0 #{$layer-offset} #{$layer-distance}');

    $shadow: list.append($shadow, $layer-css);
  }

  @return $shadow;
};
