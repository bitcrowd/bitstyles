@use "sass:list";
@use "sass:string";

@function remove($list, $value) {
  $result: ();

  @for $i from 1 through list.length($list) {
    @if nth($list, $i) != $value {
      $result: list.append($result, nth($list, $i));
    }
  }

  @return $result;
}

@function get-classname($classname-items) {
  $classname: null;
  $classname-items: remove($classname-items, null);

  @for $i from 1 through list.length($classname-items) {
    $classname-item: list.nth($classname-items, $i);

    @if $classname-item != '' and $classname-item != null {
      $classname: if($i == 1, $classname-item, '#{$classname}#{unquote('-')}#{$classname-item}');
    }
  }

  @return $classname;
}

@mixin output-property-directions($direction-values, $name, $size) {
  @each $direction in $direction-values {
    $property: if($direction, '#{$name}-#{$direction}', $name);

    #{$property}: $size;
  }
}

@mixin output-directional-property(
  $property-name,
  $classname-root,
  $sizes,
  $directions,
  $breakpoint-suffix: ''
) {
  @each $size-alias, $size-value in $sizes {
    @each $direction-name, $direction-values in $directions {
      $classname: get-classname(
        ($bitstyles-namespace,
        'u',
        $classname-root,
        $size-alias,
        $direction-name
      )
    );

      .#{$classname}#{$breakpoint-suffix} {
        @include output-property-directions(
          $direction-values: $direction-values,
          $name: $property-name,
          $size: $size-value
        );
      }
    }
  }
}
