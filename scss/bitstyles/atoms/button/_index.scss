@forward 'settings';
@use './settings';
@use '../../tools/classname';
@use '../../tools/custom-property';

/* prettier-ignore */

#{classname.get($classname-items: 'button', $layer: 'atom')} {
  #{custom-property.get($items: ('button', 'transition'), $layer: 'atom')}: #{settings.$transition};
  #{custom-property.get($items: ('button', 'justify-content'), $layer: 'atom')}: #{settings.$justify-content};
  display: flex;
  position: relative;
  flex-shrink: 0;
  align-items: center;
  justify-content: var(#{custom-property.get($items: ('button', 'justify-content'), $layer: 'atom')});
  min-width: var(#{custom-property.get($items: ('button', 'min-width'), $layer: 'atom')});
  max-width: 100%;
  min-height: var(#{custom-property.get($items: ('button', 'min-height'), $layer: 'atom')});
  margin: 0;
  padding: 
    calc(var(#{custom-property.get($items: ('button', 'padding-vertical'), $layer: 'atom')}) - var(#{custom-property.get($items: ('button', 'border-width'), $layer: 'atom')}, 0rem))
    calc(var(#{custom-property.get($items: ('button','padding-horizontal'), $layer: 'atom')}) - var(#{custom-property.get($items: ('button', 'border-width'), $layer: 'atom')}, 0rem));
  overflow: visible;
  transition: var(#{custom-property.get($items: ('button', 'transition'), $layer: 'atom')});
  border-width: var(#{custom-property.get($items: ('button', 'border-width'), $layer: 'atom')});
  border-style: solid;
  border-radius: var(#{custom-property.get($items: ('button', 'border-radius'), $layer: 'atom')});
  outline-offset: 0;
  font-family: settings.$font-family;
  font-size: var(#{custom-property.get($items: ('button', 'font-size'), $layer: 'atom')});
  font-weight: var(#{custom-property.get($items: ('button', 'font-weight'), $layer: 'atom')});
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
  cursor: pointer;
  user-select: none;
  -webkit-appearance: none; // stylelint-disable-line property-no-vendor-prefix
  touch-action: manipulation;

  &:hover,
  &:focus {
    outline-width: 0;
    text-decoration: none;
  }

  &:focus-visible {
    outline-color: settings.$outline-color auto settings.$outline-width;
    outline-offset: settings.$outline-offset;
  }

  &:disabled,
  &[aria-disabled='true'],
  &:disabled:hover,
  &[aria-disabled='true']:hover,
  &:disabled:focus,
  &[aria-disabled='true']:focus {
    cursor: not-allowed;
  }
}

#{classname.get($classname-items: 'button__avatar', $layer: 'atom')},
#{classname.get($classname-items: 'button__icon', $layer: 'atom')} {
  flex-shrink: 0;
  margin-right: settings.$icon-spacing;
  margin-left: calc((settings.$icon-spacing * -1) / 4);
}

#{classname.get($classname-items: 'button__label', $layer: 'atom')}
  + #{classname.get($classname-items: 'button__icon', $layer: 'atom')} {
  margin-right: calc((settings.$icon-spacing * -1) / 4);
  margin-left: settings.$icon-spacing;
}
