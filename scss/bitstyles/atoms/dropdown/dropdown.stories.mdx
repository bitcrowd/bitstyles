import { Canvas, Meta, Story } from '@storybook/addon-docs';

<Meta title="Atoms/Dropdown/Overview" />

<Story id="atoms-dropdown--base" inline={false} height="20rem" width="30rem" />

# Dropdown

A floating container shown on clicking a button (use JS for this), to show some small extra content such as a list of links. In smaller viewports, the dropdown will be displayed using the full width available.

## Alignment

The dropdown defaults to left-top-aligned, but can be aligned to any edges using the modifier classes. Note that in smaller viewports, all left/right alignment is removed and the dropdown will be displayed at the full available width.

<Canvas isColumn>
  <Story id="atoms-dropdown--base" height="20rem" />
  <Story id="atoms-dropdown--right" height="20rem" />
  <Story id="atoms-dropdown--top" height="20rem" />
  <Story id="atoms-dropdown--top-right" height="20rem" />
  <Story id="atoms-dropdown--bottom-full-width" height="20rem" />
  <Story id="atoms-dropdown--top-full-width" height="20rem" />
</Canvas>

### Max height

Once the dropdown reaches `38rem` height, it stops growing, and scrolls internally instead. See [Customization](#customization) for details on how to change that.

<Canvas>
  <Story id="atoms-dropdown--max-height" height="60rem" />
</Canvas>

## Customization

The visual appearance & layout of the dropdowns can be customized:

```scss
$max-height: 20rem;
$border-radius: var(design-token.get('size', 's4');
$border: 2px solid var(design-token.get('color', 'brand-2');
$background-color: var(design-token.get('color', 'grayscale', 'white');
$box-shadow: shadow.to-box-shadow(
  shadow.generate(
    $color: rgba(var(design-token.get('color', 'brand-2', 'light-1-rgb'), 0.05),
    $offset: var(design-token.get('size', 'm'),
    $blur-radius: var(design-token.get('size', 'l2'),
  )
);
```

The border and spacing above and below the separators used to divide the contents of your dropdowns (see the `<li role="separator"></li>` in the examples above) can also be customized:

```scss
$separator-border: 1px solid var(design-token.get('color', 'grayscale');
$separator-spacing: var(design-token.get('size', 's6');
```

By default the dropdown will fade in and out respectively when the `is-on-screen` and `is-off-screen` classes are applied, but this can customized too. Be sure to update the `$will-change` value to reflect the properties you specify in the `$transition` value.

These animations are only used if the user has set their preferences to allow animation.

```scss
$transition: opacity 0.12s ease-in;
$will-change: opacity;
$states: (
  'off-screen': (
    'opacity': 0,
  ),
  'on-screen': (
    'opacity': 1,
  ),
);
```
