import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta title="Atoms/Dropdown" />

# Dropdown

A floating container shown on clicking a button (use JS for this), to show some small extra content such as a list of links. In smaller viewports, the dropdown will be disaplyed using the full width available.

## Left alignment (default)

<Canvas>
  <Story name="Dropdown" inline={false} height="20rem">
    {`
      <div class="u-relative" style="height: 10rem; width: 30rem">
        <ul class="a-dropdown u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
</Canvas>

## Alignment

The dropdown defaults to left-top-aligned, but can be aligned to any edges using the modifier classes. Note that in smaller viewports, all left/right alignment is removed and the dropdown will be displayed at the full available width.

<Canvas>
  <Story name="a-dropdown--right" inline={false} height="20rem">
    {`
      <div class="u-relative" style="height: 10rem; width: 100%">
        <ul class="a-dropdown a-dropdown--right u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
  <Story name="a-dropdown--top" inline={false} height="20rem">
    {`
      <div class="u-relative u-flex" style="height: 10rem; width: 100%">
        <ul class="a-dropdown a-dropdown--top u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
  <Story name="a-dropdown--top a-dropdown--right" inline={false} height="20rem">
    {`
      <div class="u-relative u-flex" style="height: 10rem; width: 100%">
        <ul class="a-dropdown a-dropdown--top a-dropdown--right u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
  <Story name="a-dropdown--bottom dropdown--full" inline={false} height="20rem">
    {`
      <div class="u-relative u-flex" style="height: 10rem; width: 100%">
        <ul class="a-dropdown a-dropdown--full-width u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
  <Story name="a-dropdown--top dropdown--full" inline={false} height="20rem">
    {`
      <div class="u-relative u-flex" style="height: 10rem; width: 100%">
        <ul class="a-dropdown a-dropdown--top a-dropdown--full-width u-overflow-y-auto u-list-none">
          <li>
            <a href="/" class="a-button a-button--transparent">Settings</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Help</a>
          </li>
          <li>
            <a href="/" class="a-button a-button--transparent">Privacy</a>
          </li>
          <li role="separator"></li>
          <li>
            <a href="/" class="a-button a-button--transparent">Sign out</a>
          </li>
        </ul>
      </div>
    `}
  </Story>
</Canvas>

## Customization

The visual appearance & layout of the dropdowns can be customized:

```scss
$max-height: 20rem;
$border-radius: size.get('xs');
$border: 2px solid palette.get('brand-2', 'base');
$background-color: palette.get('grayscale', 'white');
$box-shadow: shadow.to-box-shadow(
  shadow.generate(
    $color: rgba(palette.get('brand-2', 'light-1'), 0.05),
    $offset: size.get('m'),
    $blur-radius: size.get('l'),
  )
);
```

The border and spacing above and below the separators used to divide the contents of your dropdowns (see the `<li role="separator"></li>` in the examples above) can also be customized:

```scss
$separator-border: 1px solid palette.get('grayscale', 'base');
$separator-spacing: size.get('2xs');
```

By default the dropdown will fade in and out respectively when the `is-on-screen` and `is-off-screen` classes are applied, but this can customized too. Be sure to update the `$will-change` value to reflect the properties you specify in the `$transition` value.

```scss
$transition: opacity 0.12s ease-in;
$will-change: opacity;
$states: (
  'off-screen': (
    'opacity': 0,
  ),
  'on-screen': (
    'opacity': 1,
  ),
);
```
