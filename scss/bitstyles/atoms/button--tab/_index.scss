@forward 'settings';
@use './settings';
@use '../../settings/layout';
@use '../../tools/classname';
@use '../../tools/button';
@use '../button/settings' as button-settings;

#{classname.get($classname-items: 'button--tab-container', $layer: 'atom')} {
  & > *:first-child {
    margin-left: -(var(--button-padding-horizontal));
  }
}

#{classname.get($classname-items: 'button--tab', $layer: 'atom')} {
  position: relative;
  border: 0;
  border-radius: settings.$border-radius;

  @include button.colors(
    $colors: (
      'default': (
        'border-color': settings.$border-color,
        'background-color': settings.$background-color,
        'box-shadow': settings.$box-shadow,
        'color': settings.$color,
      ),
      'hover': (
        'border-color': settings.$border-color-hover,
        'background-color': settings.$background-color-hover,
        'box-shadow': settings.$box-shadow-hover,
        'color': settings.$color-hover,
      ),
      'active': (
        'border-color': settings.$border-color-active,
        'background-color': settings.$background-color-active,
        'box-shadow': settings.$box-shadow-active,
        'color': settings.$color-active,
      ),
      'pressed': (
        'border-color': settings.$border-color-pressed,
        'background-color': settings.$background-color-pressed,
        'box-shadow': settings.$box-shadow-pressed,
        'color': settings.$color-pressed,
      ),
      'disabled': (
        'border-color': settings.$border-color-disabled,
        'background-color': settings.$background-color-disabled,
        'box-shadow': settings.$box-shadow-disabled,
        'color': settings.$color-disabled,
      ),
    )
  );

  &,
  &:visited {
    &::after {
      content: '';
      position: absolute;
      right: var(--button-padding-horizontal);
      bottom: 0;
      left: var(--button-padding-horizontal);
      height: settings.$border-width;
      transition: settings.$indicator-transition;
      border-radius: layout.$border-radius-round;
      background-color: settings.$indicator-color;
    }
  }

  &:hover,
  &:focus {
    &::after {
      background-color: settings.$indicator-color-hover;
    }
  }

  &:active {
    &::after {
      background-color: settings.$indicator-color-active;
    }
  }

  &[aria-selected='true'],
  &[aria-current] {
    &::after {
      background-color: settings.$indicator-color-pressed;
    }
  }

  &:disabled,
  &[aria-disabled='true'],
  &:disabled:hover,
  &[aria-disabled='true']:hover,
  &:disabled:focus,
  &[aria-disabled='true']:focus {
    &::after {
      background-color: settings.$indicator-color-disabled;
    }
  }
}
