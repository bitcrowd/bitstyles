import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import icons from '../../../test/assets/images/icons.svg';

<Meta title="UI/Notifications" />

# Notifications

Notifications are presented in an element with `aria-live="polite"`, which should exist in the DOM only once, and should be always present. You can insert content on the client side or server side. The browser will watch the element for changes in content and will announce (to assistive technology like a screenreader) any changes after it completes it’s current task.

<Canvas>
  <Story id="organisms-notification-center--notification-center" />
</Canvas>

Some notifications may require or enable further actions by the user — add buttons underneath the text content for this.

<details class="u-margin-xl--y">
  <summary class="u-h4 u-font--medium">Examples use</summary>
  <ul>
    <li><a href="/?path=/story/atoms-button-base--button-element">a-button</a></li>
    <li><a href="/?path=/story/atoms-button-ui--ui">a-button--ui</a></li>
    <li><a href="/?path=/story/atoms-card--card">a-card</a></li>
    <li><a href="/?path=/story/atoms-badge--badge">a-badge</a></li>
    <li><a href="/?path=/story/atoms-content--content">a-content</a></li>
    <li><a href="/?path=/story/atoms-icon--icon">a-icon</a></li>
    <li><a href="/?path=/story/atoms-list-reset--list-reset">a-list-reset</a></li>
    <li><a href="/?path=/story/organisms-notification-center--notification-center">o-notification-center</a></li>
    <li><a href="/?path=/story/utilities-flex--flex">u-flex</a></li>
    <li><a href="/?path=/story/utilities-typography--typography">u-h6</a></li>
    <li><a href="/?path=/story/utilities-box-alignment--items-start">u-items-start</a></li>
    <li><a href="/?path=/story/utilities-margin--margin-m">u-margin</a></li>
    <li><a href="/?path=/story/utilities-padding--padding-m">u-padding</a></li>
  </ul>
</details>

<Canvas>
  <Story name="Notification dialog">
    {`
     <div style="position: relative; z-index:0; transform: translate3d(0,0,0); min-height: 15rem">
        <div class="o-notification-center a-content a-content--s u-margin-0" aria-live="polite">
          <article class="a-card u-padding-l u-flex u-items-start">
            <div class="u-flex__shrink-0 a-badge a-badge--positive u-padding-s u-margin-m--right">
              <svg width="18" height="18" class="a-icon a-icon--xl" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                <use xlink:href="${icons}#icon-mail"></use>
              </svg>
            </div>
            <div>
              <h2 class="u-h5 u-margin-0">Password update request sent</h2>
              <p class="u-h6">We sent you an email. Please click the link inside to confirm your new password</p>
              <ul class="a-list-reset u-flex">
                <li class="u-margin-s--right">
                  <button type="button" class="a-button u-h6">OK</button>
                </li>
                <li>
                  <button type="button" class="a-button a-button--ui u-h6">Cancel request</button>
                </li>
              </ul>
            </div>
          </article>
        </div>
      </div>
    `}
  </Story>
</Canvas>
