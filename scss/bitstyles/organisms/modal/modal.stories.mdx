import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import icons from '../../../../test/assets/images/icons.svg';

<Meta title="UI/Modal" />

# Modal

**Needs JS to function**

Set modal size using the usual layout classes e.g. `.a-content`. At smaller screensizes the modal becomes fullwidth.

Modals are a common UI component that needs Javascript — use a suitable package for your project. [A11y-dialog.js](https://github.com/edenspiekermann/a11y-dialog) is a great example of what to look for. The package needs to be keyboard navigable, trap focus, add and remove aria-hidden attributes, respond to click on the overlay behind it, stop scrolling of the main content, and present a close button with some text content for screenreaders.


## Informational

You may want to inform the user of the success or failure of an action, give a little explanatory text, and provide a button to dismiss the modal.

<Canvas>
  <Story name="Informational modal" inline={false} height="80vh">
    {`
      <main id="main" class="a-content">
        <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
        <p class="u-text--center"><button class="a-link" data-a11y-dialog-show="dialog_1">open dialogue</button></p>
        <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
      </main>
      <div class="c-modal" id="dialog_1" aria-hidden="false" aria-labelledby="dialog-title">
        <div class="c-modal__overlay" tabindex="-1" data-a11y-dialog-hide title="Close modal"></div>
        <div class="a-content a-content--s c-modal__content a-card u-padding-xl@m u-padding-l u-flex u-flex--col" role="document">
          <header class="u-flex u-flex--col u-items-center">
            <div class="a-badge a-badge--positive u-padding-m u-margin-s--bottom">
              <svg width="18" height="18" class="a-icon a-icon--xl" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                <use xlink:href="${icons}#icon-check"></use>
              </svg>
            </div>
            <h1 class="u-flex__shrink-0 u-h2" id="dialog-title" tabindex="0">Confirmation email sent</h1>
          </header>
          <div class="u-flex__grow-1 u-overflow--y u-fg--gray-50 u-text--center">
            <p>We sent the email to your primary email address. If you do not receive it shortly, please contact your admin.</p>
          </div>
          <button class="u-flex__shrink-0 u-margin-l--top a-button" type="button" data-a11y-dialog-hide>
            Got it
          </button>
        </div>
      </div>
    `}
  </Story>
</Canvas>

## Modal dialog

If you have multiple options for the user, present them with any information they may need in order to decide, and as few options as possible.

<Canvas>
  <Story name="Modal dialog" inline={false} height="80vh">
    {`
    <main id="main" class="a-content">
      <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
      <p class="u-text--center">
        <button class="a-link" data-a11y-dialog-show="dialog_1">open dialogue</button>
      </p>
      <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
    </main>
    <div class="c-modal" id="dialog_1" aria-hidden="false" aria-labelledby="dialog-title">
      <div class="c-modal__overlay" tabindex="-1" title="Close modal" data-a11y-dialog-hide></div>
      <div class="a-content a-content--s c-modal__content a-card u-padding-xl@m u-padding-l u-flex u-flex--col" role="document">
        <header class="u-flex u-flex--col u-items-center">
          <div class="a-badge a-badge--brand-1 u-padding-m u-margin-s--bottom">
            <svg width="18" height="18" class="a-icon a-icon--xl" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <use xlink:href="${icons}#icon-mail"></use>
            </svg>
          </div>
          <h1 class="u-flex__shrink-0 u-h2" id="dialog-title" tabindex="0">Send confirmation email?</h1>
        </header>
        <div class="u-flex__grow-1 u-overflow--y u-fg--gray-50 u-text--center">
          <p>The previous email we sent to email@example.com will no longer be valid.</p>
        </div>
        <ul class="a-list-reset u-grid u-grid--2-col@m u-gap-m u-items-center u-margin-l--top">
          <li class="u-flex u-flex--col">
            <button class="a-button a-button--ui" type="button">Cancel</button>
          </li>
          <li class="u-flex u-flex--col">
            <button class="a-button" type="button">Send</button>
          </li>
        </ul>
      </div>
    </div>
  `}
  </Story>
</Canvas>

## Modal with long text

Sometimes you just need to dump a load of text on the user, such as for legal documentation. Best avoided, but sometimes unavoidable. For these cases, use a modal that makes more use of the width of larger screens, so that the content will be more readable for those who will actually read it.

<Canvas>
  <Story name="Modal with long text" inline={false} height="80vh">
    {`
    <main id="main" class="a-content">
      <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
      <p class="u-text--center">
        <button class="a-link" data-a11y-dialog-show="dialog_1">open dialogue</button>
      </p>
      <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
    </main>
    <div class="c-modal" id="dialog_1" aria-hidden="false" aria-labelledby="dialog-title">
      <div class="c-modal__overlay" tabindex="-1" title="Close modal" data-a11y-dialog-hide></div>
      <div class="a-content a-content--m c-modal__content a-card u-padding-xl@m u-padding-l u-flex u-flex--col" role="document">
        <header class="u-flex u-flex--col u-items-center">
          <div class="a-badge a-badge--brand-1 u-padding-m u-margin-s--bottom">
            <svg width="18" height="18" class="a-icon a-icon--xl" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <use xlink:href="${icons}#icon-mail"></use>
            </svg>
          </div>
          <h1 class="u-flex__shrink-0 u-h2 u-margin-0" id="dialog-title" tabindex="0">The legal stuff</h1>
          <p class="u-h3">Please read and accept</p>
        </header>
        <div class="u-flex__grow-1 u-overflow--y u-fg--gray-50">
          <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
          <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
          <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
          <p>Icing powder pie jelly beans soufflé biscuit cupcake fruitcake. Jelly beans bear claw candy canes. Chupa chups gingerbread dessert gingerbread jelly-o icing topping. Marshmallow tiramisu tiramisu cheesecake. Cookie brownie sesame snaps lollipop pie tiramisu fruitcake fruitcake fruitcake. Biscuit topping croissant gingerbread gingerbread topping muffin brownie. Jelly toffee danish fruitcake. Liquorice fruitcake bonbon. Bear claw pudding bonbon jujubes. Danish icing sweet. Biscuit jelly marzipan pie tart. Sugar plum danish gingerbread powder cupcake ice cream sugar plum. Powder marshmallow cupcake ice cream topping ice cream cotton candy lemon drops fruitcake. Chocolate cake wafer jelly beans cupcake lemon drops.</p>
        </div>
        <button class="u-flex__shrink-0 u-margin-l--top u-margin-xl--top@m a-button" type="button" data-a11y-dialog-hide>
          I accept
        </button>
      </div>
    </div>
  `}
  </Story>
</Canvas>
