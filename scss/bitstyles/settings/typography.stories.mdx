import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta title="Design Tokens/Typography" />

# Typography

There are several aspects to typography which are handled by systems in bitstyles including font-family, webfonts, font-sizes, line-heights and default margins.

## Font-sizes

Using a central scale of font-sizes maintains consistency in the typography throughout your project. The default configuration provides base desing tokens for font-size based on a ratio of 1.17 between each font-size. These base tokens are later used to provide consistent font-sizing for:

- [responsive typography](/docs/base-typography-responsive-headings--h-1) — font-sizes specified for HTML elememnts (e.g. `h1` – `h6`) that adjust to the size of the viewport using a mobile-first approach
- [utility classes](/docs/utilities-typography--typography) that apply the same responsive typography as the base elements, for when you need arbritrary elements to consistently match your heading elements
- [utility classes](/docs/utilities-typography--typography) that apply specific font-sizes at specified breakpoints

### Usage

In most cases, it’s recommended to use the appropriate utility classes to apply font-size. See the documentation of the classes for information on defaults & customization:

- [`responsive-typography`](/docs/utilities-responsive-typography--typography)
- [`typography`](/docs/utilities-typography--typography)

There are also helper functions in Sass that can be used to create styles in your components that match those utility classes, so you can maintain consistency — see the next sections for details.

### responsive-font-size.get()

Use the `responsive-font-size.get()` mixin for accessing the responsive font-sizes specified in your base design tokens. By using this mixin you ensure the font-size of a component will match the resposnive typography of your heading elements and responsive-typography utility classes.

In your Sass file first import the `responsive-font-size` tools, then use the `get()` function, passing in the font-size you need:

```scss
@use '~bitstyles/scss/bitstyles/tools/responsive-font-size';

.component-class::after {
  @include responsive-font-size.get('h4');
}
```

With the default setup this will output:

```css
.component-class::after {
  font-size:  1.25rem;
}

@media screen and (min-width: 30em) {
  .component-class::after {
    font-size: 1.45rem;
  }
}
```

#### `responsive-font-size.get()` parameters

| Name       | Type   | Description               |
| ---------- | ------ | ------------------------- |
| $font-size | string | The name of the font-size |
| $breakpoint | string | Defaults to `null`, which will output all the font-sizes under that name, at each breakpoint, wrapped in the appropriate media-query. If you provide this parameter, the font-size at only that breakpoint will be output |

### font-size.get()

Use the `font-size.get()` function for accessing the font-sizes specified in your base design tokens. This is useful when you need a component’s font-size to be rendered differently to your standard responsive typography.

In your Sass file first import the `font-size` tools, then use the `get()` function, passing in the font-size you need:

```scss
@use '~bitstyles/scss/bitstyles/tools/font-size';
@use '~bitstyles/scss/bitstyles/tools/media-query';

.component-class::after {
  font-size: font-size.get('4');
}

@include media-query('m') {
  .component-class::after {
    font-size: font-size.get('6');
  }
}
```

With the default setup this will output:

```css
.component-class::after {
  font-size: 1.45rem;
}

@media screen and (min-width: 30em) {
  .component-class::after {
    font-size: 2rem;
  }
}
```

`font-size.get()` is also used in the setup the responsive typographic scale for the [base styles](/docs/base-typography-responsive-headings--h-1) and the [utility classes](/docs/utilities-typography--typography), to ensure consistency across your designs.

#### `font-size.get()` parameters

| Name       | Type   | Description               |
| ---------- | ------ | ------------------------- |
| $font-size | string | The name of the font-size |

## Webfonts

The default webfont is Nunito. If you wish to keep using it, there’s nothing you need to do. See [customization](#customization) below for details on how to change this configuration.

### Using font-family in Sass

Rather than applying a webfont directly in CSS or Sass, it’s good practice to provide a _font stack_ so there’s a fallback that’s similar to the webfont you want to use (but may not download in time or ever).

There are two stacks provided, one for the heading font-family, another for the body font-family. These both apply “Nunito” as the preferred font, and several fallback fonts that have good legibility for app UIs. Look to the [Customization](#customization) section below for details on how to change this.

For the default setup:

```scss
@use '~bitstyles/scss/bitstyles/settings/typography';

.component-class::before {
  font-family: typography.$font-family-header;
}

.component-class::after {
  font-family: typography.$font-family-body;
}
```

### Using webfonts in classes

Use the `u-font` utility classes to apply font-family. See the documentation of the class for information on defaults & customization:

- [u-font](/docs/utilities-font--font-header)

### Customization

#### Font-sizes

You can specify the font-sizes and names for each of your base font-size design tokens. Default configuration uses the numbers 1–8, but you can use any string, and any font-size.

```scss
@use '~bitstyles/scss/bitstyles/settings/typography' with (
  $font-sizes: (
    'm': 1rem,
    'l': 1.5rem,
    'xl': 2rem,
  )
);
```

#### Responsive font-sizes

By overriding `$bitstyles-responsive-typography-font-sizes`, you can specify which font-sizes are applied to which HTML elements (in [`base/typography`](/docs/base-typography-responsive-headings--h-1)) and responsive-typography utility classes (in [`utilities/typography-responsive`](/docs/utilities-responsive-typography--typography)), and at which breakpoints.

Using a mobile-first approach, the first Sass map of font-sizes shown below apply for all screensizes, until overridden at the `m` breakpoint (see [breakpoints](/docs/design-tokens-breakpoints--page)). You can provide font-size maps at every breakpoint available in your base breakpoints if you wish.

We’re using the global `setup.$no-media-query` to provide font-sizes that apply with no media-query (this is recommended, otherwise you’ll be seeing your browser defaults), and `font-size.get()` to get our font-sizes from our base design tokens:

```scss
@use 'bitstyles/settings/setup';
@use 'bitstyles/tools/font-size';
@use 'bitstyles/settings/typography-responsive' with (
  $font-sizes: (
    '#{setup.$no-media-query}': (
      'h1': font-size.get('6'),
      'h2': font-size.get('5'),
      'h3': font-size.get('4'),
      'h4': font-size.get('3'),
      'h5': font-size.get('2'),
      'h6': font-size.get('1'),
      'body': font-size.get('2'),
      'p': font-size.get('2'),
    ),
    'm': (
      'h1': font-size.get('8'),
      'h2': font-size.get('7'),
      'h3': font-size.get('6'),
      'h4': font-size.get('4'),
      'h5': font-size.get('2'),
      'h6': font-size.get('1'),
      'body': font-size.get('2'),
      'p': font-size.get('2'),
    ),
  )
);
```

You can also specify other html elements here, if needed:

```scss
@use 'bitstyles/settings/setup';
@use 'bitstyles/tools/font-size';

@use 'bitstyles/settings/typography-responsive' with (
  $font-sizes: (
    '#{setup.$no-media-query}': (
      'li': font-size.get('6'),
      'code': font-size.get('5'),
    ),
  )
);
```

#### Font-face declarations

To use different webfonts, override the Sass variables specifying the name of the font-family, and the path to the folder where the font files are kept. Then, in a Sass map, list the font variants you have in the following format:

```scss
@use '~bitstyles/scss/bitstyles/settings/typography' with (
  $webfont-family-name: 'Font family name',
  $webfont-base-url: '../assets/fonts/',
  $webfont-variants: (
    'normal': (
      'font-family': 'Font family name',
      'font-style': normal,
      'font-weight': 400,
      'filename': 'font-family-name-400',
    ),
    'medium': (
      'font-family': 'Font family name',
      'font-style': normal,
      'font-weight': 600,
      'filename': 'font-family-name-600',
    ),
    'italic': (
      'font-family': 'Font family name',
      'font-style': italic,
      'font-weight': 400,
      'filename': 'font-family-name-italic',
    ),
  )
);
```

#### Font-stacks

You may want to provide different fallback fonts. To do this, override one or both of the two font-stacks. One for headings, one for body text.

```scss
@use '~bitstyles/scss/bitstyles/settings/typography' with (
  $font-family-header: (
    'Font family name',
    'Futura',
    'Helvetica Neue',
  ),
  $font-family-body: (
    'Other font family name',
    'Arial',
  )
);
```
