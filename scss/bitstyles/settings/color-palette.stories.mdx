import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';

<Meta title="Design Tokens/Color palette" />

# Color palette

Bitstyles uses a three-tier color system:

- Base colors
- Base palette
- Semantic palette

The **base colors** are a small list of colors from which we generate the base palette.

The **base palette** consists of a large number of tints (mixed with white) and shades (mixed with black) generated from the base colors. The colors in the palettes are all named with the name of the base color, and a number indicating how much white or black is mixed in e.g. `red-50`, `red-150` (50% white and 50% black respectively).

The base palette is only used once — to configure our **semantic palette**, which is what’s used throughout the codebase to apply colors to components, and for any utility classes that apply color. This palette is a limited list of semantically-named colors, selected from the base color palettes, giving colors such as `background-dark`, `danger-base`, `danger-light`.

This three-tier system is intended to offer a wide range of color options with minimal setup, while encouraging use of just a small tightly-controlled palette of colors throughout the final codebase. That helps to maintain both visual and code consistency, and reduces the potential for color bloat.

<Story id="base-colors--color-palette" />

## Base colors

By default the palette includes variants of the following colors:

<Story id="base-colors--base-colors" />

For each of these colors we generate a map of 25 color variants from light to dark. There is also a simple grayscale called `pure-gray`, and a `brand-gray` scale, which is a grayscale with a hint of your `$brand-1` color.

The color variants are generated at a range of 25 percentage points between 1 and 190. 1 has only 1% of the base color, the rest is white. 100 is 100% the base color, and 190 has 10% base color, 90% black. For each color you have the following variants available to you: 1, 2, 3, 4, 5, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 105, 110, 120, 130, 140, 150, 160, 170, 180, 190.

The special case of the `pure-gray` palette offers a scale of 25 colors from white to black, 0 to 100 respectively.

<Story id="base-colors--base-palette" />

## Using the color palette in Sass

Use the `palette.get()` helper function for accessing colors in the color palette. In your component Sass file first import the `palette` tools, then use the `get()` function, passing the color name and variant:

```scss
@use '~bitstyles/scss/bitstyles/tools/palette';

.component-class::after {
  background-color: palette.get('brand-1', 'light');
}
```

With the default setup this will output:

```css
.component-class::after {
  background-color: #4d56ff;
}
```

### `palette.get()` parameters

| Name   | Type   | Description                                               |
| ------ | ------ | --------------------------------------------------------- |
| $color | string | The name of the color                                     |
| $key   | string | The variant of that color you want. Defaults to `"base"`. |

## Using colors with classnames

Use the appropriate utility classes to apply colors. See the documentation of each class for information on defaults & customization:

- [`u-fg` (color)](/docs/utilities-color--brand-1)
- [`u-bg` (background-color)](/docs/utilities-background-color--background)

## Customization

### Base colors

The color variants in the base color palette are generated from a set of initial base colors. Changing those base colors will change the variants generated from them. For example changing the brand-1 color to pure red will generate color variants of red.

```scss
@use '~bitstyles/scss/bitstyles/settings/base-colors' with (
  $colors: (
    'brand-1': #f00,
  )
);

/* brand-1 colors:

(
  "1": #fffcfc,
  "2": snow,
  "3": #fff7f7,
  "4": #fff5f5,
  "5": #fff2f2,
  "10": #ffe6e6,
  "20": #ffcccc,
  "30": #ffb3b3,
  "40": #ff9999,
  "50": #ff8080,
  "60": #ff6666,
  "70": #ff4d4d,
  "80": #ff3333,
  "90": #ff1a1a,
  "100": red,
  "105": #f20000,
  "110": #e60000,
  "120": #cc0000,
  "130": #b30000,
  "140": #990000,
  "150": maroon,
  "160": #660000,
  "170": #4d0000,
  "180": #330000,
  "190": #1a0000
)
*/
```

Note that if you wish to retain the other colors, you’ll need to copy them from the default configuration and provide them here, as these sass lists are immutable.

You can also add entirely new colors by defining them here in the same way.

### Base color palette

#### Changing the scale

Change the base color palettes that will be generated by overriding

- `base-colors.$tint-percentages`
- `base-colors.$shade-percentages`
- `base-colors.$scale-percentages`

These are a Sass lists with number values for the percentages of the color to be mixed. The numbers will also be used as the label for the variant. `$tint-percentages` and `$shade-percentages` are used to generate most colors, `$scale-percentages` is used to generate the 0–100 grayscale.

```scss
@use '~bitstyles/scss/bitstyles/settings/base-colors' with (
  $tint-percentages: (
    10,
    50,
    90,
  ),
  $shade-percentages: (
    90,
    50,
    10,
  )
);

/* brand-1 colors:
(
  "10": #ebebf7,
  "50": #9d9bd5,
  "90": #4f4bb3,
  "110": #35329a,
  "150": #1e1c56,
  "190": #060611,
)
*/
```

### Override the base palette

Override the base palette to customize the generated colors. `tools/color` provides `generate-tints-and-shades` and `generate-scale` functions to make this easier, but you can also manually specify colors. It’s recommended you use the colors specified in the base-colors layer, but it’s not required:

```scss
@use '~bitstyles/scss/bitstyles/tools/color';
@use '~bitstyles/scss/bitstyles/settings/base-color';
@use '~bitstyles/scss/bitstyles/settings/base-palette' with (
  $color-palette: (
    'red': color.generate-tints-and-shades($base-color: map.get(base-colors.$colors, 'red')),
    'blue': color.generate-tints-and-shades($base-color: #00f),
    'custom-color-scale': (
      '0': #355322,
      '1': #986282,
      // …
    ),
  )
);
```

## Semantic Color palette

Whichever colors are available to you in the base palette can be used to construct the semantic palette. If the default colors are not suitable, or if changes to the base colors or base color palette mean the colors used by default in the semantic palette are no longer suitable, override the semantic palette. You can only overwrite the entire thing, so be sure to copy the colors you’ll use even if you don’t change them.

It’s recomended that you select the colors from the base palette, but it’s not required:

```scss
@use '~bitstyles/scss/bitstyles/tools/base-color';
@use '~bitstyles/scss/bitstyles/settings/color-palette' with (
  $color-palette: (
    'brand-1': (
      'default': base-color.get('brand-1', '70'),
      'light': base-color.get('brand-1', '30'),
      'dark': base-color.get('brand-1', '170'),
    ),
    'blue': (
      'default': #00f,
      'dark': #006,
    ),
  )
);
```

### Default keys

With default configuration, `base` is the root for each color, allowing you to use e.g. `palette.get()` without specifying a color variant when you want the base color e.g. `palette.get('brand-1')`. To change the default key, override `color-palette.$default-key` with the string you wish to use.
